<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="./css/styles.css">
</head>
<body>

<div class="top-bar">
<h2>Enter Your Name To:</h2>
<p>guess your gender, age, and nationality.</p>
</div>


<!-- dog image to the right and buttons to the left -->

<div class="main-div flex-container">

<div class="flex-item-left">

<div class="name-request " id="search-results">
<p> Enter Your Name</p>
<input type="text" name="search" id="input-name" placeholder="Search..">
<br>
<button class="close-button" id="search">Search</button>
</div>

<div class="result" id="final-results">
<p> your gender is:</p>
<p id="get-gender">s</p>
<p> your nationality is:</p>
<p id="get-nation"></p>
<p id="get-nation2"></p>
<p> your age is:</p>
<p id="get-age"></p>
<button class="close-button" id="reset" onclick="document.location.reload(true)">Close</button>

</div>

</div>

<div class="dog-image flex-item-right">
    <img src="" alt="Dog" id="get-image">
    <p> your future dog</p>
</div>

</div>

<!-- <script src="js/script.js"></script> -->

<script>
    

fetch("https://dog.ceo/api/breeds/image/random")
.then((response) => response.json())
.then((data) => {
    console.log(data)
    document.getElementById('get-image').src=data.message;
});


const getAgeInput = (api) =>{
    fetch(api)
    .then((response) => response.json())
    .then((data) => {
        console.log(data.age)
        document.getElementById('get-age').innerHTML=data.age;
    });
    }

const getGenderInput = (api) =>{
fetch(api)
.then((response) => response.json())
.then((data) => {
    console.log(data.gender)
    document.getElementById('get-gender').innerHTML=data.gender;
});
}   

const getNationInput = (api) =>{
    fetch(api)
    .then((response) => response.json())
    .then((data) => {
        console.log(data.country[0].country_id)
        document.getElementById('get-nation').innerHTML=data.country[0].country_id;
        document.getElementById('get-nation2').innerHTML=data.country[1].country_id;
    });
    }


let startSearch = (e) => {

    const name = document.getElementById("input-name").value; 
    const apiAge="https://api.agify.io/?name=" + name;
    console.log(apiAge)
    let apiGender="https://api.genderize.io?name=" + name;
    let apiNation="https://api.nationalize.io/?name=" + name;

    let ageJson = getAgeInput(apiAge);
    // console.log(ageJson)
    let genderJson = getGenderInput(apiGender);
    let nationalityJson = getNationInput(apiNation);
    // console.log(ageJson)
    document.getElementById("final-results").classList.remove("result")
    document.getElementById("search-results").classList.add("result")
}


//     fetch(apiAge)
//   .then((response) => response.json())
//   .then((data) => console.log(data));


    search.addEventListener("click", startSearch);
    // reset.addEventListener("click", resetHandler)
    // reset.addEventListener("click",document.location.reload(true))

</script>
</body>
</html>